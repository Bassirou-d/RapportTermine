
<!doctype html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TP3 - Couleurs et Images</title>
  <link rel="stylesheet" href="mission3.css">
</head>
<body >
<header>
  <h1>Bienvenue sur le site de la Mission 3</h1>
  <h3> contexte : Analyse des donn√©es de KDou avec le langage SQL. </h3>
  <nav>
    <ul>
      <li><a href="paged'accueil.html">Accueil</a></li>
      <li><a href="mission1.html" >Mission 1</a></li>
      <li><a href="mission2.html" >Mission 2 </a></li>
      <li><a href="mission3.html" >Mission 3</a></li>

    </ul>
  </nav>
</header>
<section class="sql">
  <h2>Avant de commencer la presentation voici une courte definition du SQL avec un lien vers un site expliquant comment utlisier le SQL </h2>
  <p>SQL (Structured Query Language) est un langage de programmation utilis√© pour g√©rer et manipuler des donn√©es stock√©es dans des bases de donn√©es relationnelles. Il permet d'effectuer des op√©rations telles que :</p>
  <ul>
    <li>Extraire des donn√©es (SELECT) üîç</li>
    <li>Ins√©rer de nouvelles donn√©es (INSERT) ‚ûï</li>
    <li>Mettre √† jour des donn√©es existantes (UPDATE) üîÑ</li>
    <li>Supprimer des donn√©es (DELETE) üóëÔ∏è</li>
  </ul>
  <a href="https://sql.sh/" target="_blank" rel="noopener noreferrer">
    <img src="assets/images/images%20mission%203/t√©l√©chargement.png" alt="Logo SQL.sh" class="sql-logo">
  </a>
</section>

<h2>Presentation </h2>
<table>
  <tr>
    <th>Th√®me</th>
    <th>√ânonc√©</th>
    <th>Construction</th>
    <th>SQL</th>
    <th>R√©sultat</th>
  </tr>
  <tr>
    <th rowspan="2">Dessert</th>
    <td>Combien y a-t-il des produits correspondants vendus 50‚Ç¨ ou plus ? On veut les conna√Ætre
      avec leur pays d‚Äôorigine. </td>
    <td>Cet requ√™tes SQL compte le nombre total (avec la fonction count ) de produits vendus par pays a condition (WHERE) que le prix soit sup√©rieur ou √©gal a 50 et que il soit de cat√©gorie dessert ou boisson.</td>
    <td> SELECT COUNT(*) AS TOTAL, F.Pays<br>
      FROM Fournisseur F<br>
      INNER JOIN (Produit p INNER JOIN Categorie c ON p.CodeCateg = c.CodeCateg) ON F.NoFour = p.NoFour<br>
      WHERE c.NomCateg IN ('Desserts', 'Boissons') AND p.PrixUnit >= 50<br>
      GROUP BY F.Pays ;
    </td>
    <td><img src="assets/images/images%20mission%203/dessert.png" alt="tableau gener√© par le code SQL" class="zoomable"></td>
  </tr>
  <tr>

    <td>On veut le chiffre d‚Äôaffaire g√©n√©r√© par cat√©gorie desserts ou cat√©gorie.  ?</td>
    <td>Cette requ√™te SQL calcule le chiffre d'affaires total avec SUM pour chaque cat√©gorie de produits ("Desserts" et "Boissons") en multipliant la quantit√© command√©e par le prix unitaire client. Les r√©sultats sont regroup√©s par cat√©gorie de produit avec GROUP BY.</td>
    <td> SELECT c.NomCateg, SUM(dc.QteCom * dc.PrixUnitCli) AS ChiffreAffaire<br>
      FROM DetailCommande dc INNER JOIN (Produit p  INNER JOIN Categorie c ON p.CodeCateg = c.CodeCateg) ON dc.RefProd = p.RefProd<br>
      WHERE c.NomCateg IN ('Desserts', 'Boissons')<br>
      GROUP BY c.NomCateg;
    </td>
    <td><img src="assets/images/images%20mission%203/dessert3.png" alt="tableau gener√© par le code SQL" class="zoomable"></td>
  </tr>
  <tr>
    <th rowspan="2" >l'offre de KDou</th>
    <td>Donner des informations sur les fournisseurs qui proposent des produits qui ne sont pas
      command√©s actuellement ? </td>
    <td>Cette requ√™te identifie les produits qui n‚Äôont jamais √©t√© command√©s. Elle s√©lectionne les informations sur les fournisseurs et les produits, en utilisant une jointure √† gauche (LEFT JOIN) pour inclure tous les produits, m√™me ceux sans commande associ√©e.  </td>
    <td> SELECT f.NoFour, f.Societe, f.Pays, p.NomProd<br>
      FROM (Produit p INNER JOIN Fournisseur f ON p.NoFour = f.NoFour)<br>
      LEFT JOIN DetailCommande dc ON p.RefProd = dc.RefProd<br>
      WHERE dc.RefProd IS NULL;
    </td>
    <td><img src="assets/images/images%20mission%203/offre1.png" alt="tableau gener√© par le code SQL" class="zoomable"></td>
  </tr>
  <tr>
    <td>Combien y ‚Äìa-t-il de produits non command√©s par cat√©gorie ?</td>
    <td>Cette requ√™te compte les produits non command√©s en fonction de leur cat√©gorie. Elle utilise une jointure √† gauche (LEFT JOIN) pour inclure tous les produits, m√™me ceux sans commande associ√©e, et un WHERE pour filtrer les produits non command√©s. Enfin, GROUP BY permet de regrouper les r√©sultats par cat√©gorie. </td>
    <td> SELECT c.NomCateg, COUNT(*) AS ProduitsNonCommandes<br>
      FROM (Produit p INNER JOIN Categorie c ON p.CodeCateg = c.CodeCateg)<br>
      LEFT JOIN DetailCommande dc ON p.RefProd = dc.RefProd<br>
      WHERE dc.RefProd IS NULL<br>
      GROUP BY c.NomCateg;
    </td>
    <th><img src="assets/images/images%20mission%203/offre2.png" alt="tableau gener√© par le code SQL" class="zoomable"></th>
  </tr>
  <tr>
    <th rowspan="2">Provenance des produits</th>
    <td> Pour l‚ÄôAllemagne pays proche, quels sont les desserts ou boissons vendus √† moins de 100 euros ? </td>
    <td>Cette requ√™te s√©lectionne les produits disponibles en Allemagne dans les cat√©gories "Desserts" et "Boissons", avec un prix unitaire inf√©rieur ou √©gal √† 100 euros. </td>
    <td> SELECT Fournisseur.Pays, Produit.NomProd, Produit.PrixUnit, Categorie.NomCateg<br>
      FROM Fournisseur INNER JOIN (Categorie INNER JOIN Produit ON Categorie.CodeCateg = Produit.CodeCateg) ON Fournisseur.NoFour = Produit.NoFour<br>
      WHERE (((Fournisseur.Pays)="Allemagne") AND ((Produit.PrixUnit)<=100) AND ((Categorie.NomCateg)="Boissons")) OR (((Fournisseur.Pays)="Allemagne") AND ((Produit.PrixUnit)<=100) AND ((Categorie.NomCateg)="Desserts"));
    </td>
    <td><img src="assets/images/images%20mission%203/provenace1.png" alt="tableau gener√© par le code SQL" class="zoomable"></td>
  </tr>
  <tr>
    <td>Quels fournisseurs vendent uniquement des boissons ou des desserts ? </td>
    <td>Cette requ√™te identifie les fournisseurs qui proposent uniquement des boissons ou uniquement des desserts. Elle utilise une jointure pour combiner les donn√©es des fournisseurs, des cat√©gories et des produits, puis regroupe les r√©sultats par fournisseur. Le HAVING filtre ensuite les r√©sultats pour ne conserver que les fournisseurs qui ont une seule cat√©gorie de produit (soit "Boissons", soit "Desserts"). </td>
    <td> SELECT Fournisseur.Societe, Fournisseur.Pays, Fournisseur.Tel<br>
      FROM Fournisseur INNER JOIN (Categorie  INNER JOIN Produit ON Categorie.CodeCateg = Produit.CodeCateg) ON Fournisseur.NoFour = Produit.NoFour<br>
      WHERE Categorie.NomCateg IN ('Boissons', 'Desserts') <br>
      GROUP BY Fournisseur.Societe, Fournisseur.Pays, Fournisseur.Tel<br>
      HAVING COUNT(Categorie.NomCateg) = 1;
    </td>
    <td><img src="assets/images/images%20mission%203/provenace2.png" alt="tableau gener√© par le code SQL" class="zoomable"></td>
  </tr>
  <tr>
    <th rowspan="2">clientele</th>
    <td>Un client nantais Le verre √† soi souhaite savoir quels autres clients nantais
      commandent aussi des produits en Allemagne pour envisager de futures livraisons
      group√©es. </td>
    <td>Cette requ√™te s√©lectionne les clients de Nantes qui commandent des produits allemands, √† l'exception de "Le verre √† soi". Elle utilise des jointures pour combiner les donn√©es des clients, des commandes, des d√©tails de commande, des produits et des fournisseurs. Le filtre `WHERE` s√©lectionne les clients de Nantes, les produits allemands et exclut "Le verre √† soi".  `DISTINCT` garantit qu'un client n'appara√Æt qu'une seule fois dans le r√©sultat. </td>
    <td> SELECT  DISTINCT C.SocieteCli<br>
      FROM Client C INNER JOIN(Commande CO INNER JOIN (DetailCommande dc INNER JOIN (Produit P INNER JOIN Fournisseur F ON P.NoFour=F.NoFour)ON dc.RefProd=P.RefProd)ON CO.NoCom=dc.NoCom)ON C.CodeCli=CO.CodeCli<br>
      WHERE C.VilleCli = 'Nantes' AND F.pays = 'Allemagne' AND C.SocieteCli NOT IN ('Verre √† soi');

    </td>
    <td><img src="assets/images/images%20mission%203/clientele1.png" alt="tableau gener√© par le code SQL" class="zoomable"></td>
  </tr>
  <tr>
    <td>Quels sont couples de clients de Besan√ßon pourrait on cr√©er ? </td>
    <td>Cette requ√™te sert √† identifier les clients avec leur informations vivant √† Besan√ßon afin de faire un couple  </td>
    <td> SELECT DISTINCT ContactCLI,CodeCli,SocieteCli,VilleCLI,CPCli,Pays<br>
      FROM Client<br>
      Where VilleCli = 'Besancon' OR VilleCli = 'Besan√ßon'
    </td>
    <td><img src="assets/images/images%20mission%203/clientele2.png" alt="tableau gener√© par le code SQL" class="zoomable"></td>
  </tr>

</table>

</body>
<footer>
  Fait √† Gonesse par Mohamed Qorar en 2024
  <a href="https://www.instagram.com/zatoda_nor?utm_source=ig_web_button_share_sheet&igsh=ZDNlZDc0MzIxNw==" target="_blank" rel="noopener noreferrer">
    <img src="assets/images/images%20mission%203/insta.jpg" alt="Logo Instagram" class="insta-logo">
  </a>
</footer>
</html>
